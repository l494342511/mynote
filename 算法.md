# 算法

## 1. 动态规划问题

### 1.1 背包问题

#### 1.1.1 简单背包问题

**问题：**有若干个物品，物品有各自的体积和价值。我们有一个背包，背包有体积上限。如何选择物品放入背包，使得到的价值最大，且不超过背包的体积上限。

##### **动态规划的核心是填表**

| i\v  |  0   |  1   |  2   |  3   |  4   |  5   |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   |  0   |  0   |  0   |  0   |  0   |  0   |
|  2   |  0   |      |      |      |      |      |
|  3   |  0   |      |      |      |      |      |
|  4   |  0   |      |      |      |      |      |

##### **表格的意义**

表格的行指背包的体积，列坐标是指可选的物品是前i个，注意物品按体积的大小从小到大排列，从小的物品开始填表

表格中的单元格的意义是，可选的物品是前i个时、背包体积是v时，采取最佳决策可以获得的价值

##### **填表**

填表的顺序是从左到右从上到下，一行一行填，并且从小的物品开始填表

当可选物品只有一个时，显然当背包体积小于该物品体积时，可得到的价值都是0，因此填进0。当背包体积大于它时，最优价值就是该物品的价值。

当有两个物品可选时，显然在背包体积大于第二件物品前，表中内容都与第一排相同。当背包体积能够放下第二个背包时，此时可以做两种选择：1. 放物品2  2. 不妨物品2；很明显这里只要比较一下两个物品的价值就行，当背包体积满足两个物品时，表中填入两者的价值之和。

**但是当可选物品有三个及以上时，并不能做这样简单的比较**。比如当可选物品有三个，背包体积同时放入其中任一两物品时，如果做简单的比较，就需要做三次排列组合，不仅复杂，而且也失去了填表的意义。

因此此时更优的做法是：比较1. 放物品3 2. 不放物品3两个策略的价值。

1. 不放物品3的策略就是i=2，v不变时的策略，因此就是该单元格上方的单元格的内容。
2. **而计算放物品3策略的价值，可以先将物品3放入，此时背包体积便减去物品3的体积，然后在表中寻找背包体积等于剩余体积，可选物品为物品1、2的策略的价值，最后整个策略的价值再加上物品3的价值就好。这样做就将排列组合转换为比较两个单元格的大小。**

**总结：填表的目的就是让已经做过的策略不再做重复计算，减少计算资源的浪费**

### 1.2 投资分配问题

**问题：**假设我们资金有x万元，有n个投资项目供我们选择，在每个项目上投资的资金都会影响该项目的收益，且每个项目受资金多少的影响幅度也不同，如下表：

| 投资资金\项目 | 1    | 2    | 3    | 4    |
| ------------- | ---- | ---- | ---- | ---- |
| 1             | 0    | 10   | 12   | 20   |
| 2             | 5    | 13   | 20   | 21   |
| 3             | 8    | 15   | 28   | 22   |
| 4             | 12   | 17   | 32   | 24   |
| 5             | 13   | 18   | 42   | 26   |

**解决思路：**

与背包问题类似，自底向上填表，表如：

|      | 1    | 2    | 3    | 4    | 5    |
| ---- | ---- | ---- | ---- | ---- | ---- |
| 1    |      |      |      |      |      |
| 2    |      |      |      |      |      |
| 3    |      |      |      |      |      |
| 4    |      |      |      |      |      |

纵坐标表示仅考虑前n个项目，横坐标表示我们所拥有的资金，则表格中的单元格的意义为：总资金为x时，仅考虑前y个项目能获得的最大收益

当计算(x, y)单元格时，此时根据投入在第y个项目的资金，可以得到几种不同的策略，如若在第y个项目投入2万元时，此时剩余资金为x-2，剩余未考虑项目为前y-1个项目，则此时策略的最大收益为y(2)+(x-2, y-1)，(x-2, y-1)已经填好可以直接获取

**回溯表：**记录在单元格(x, y)对y项目投入的资金

### 1.3 编辑距离计算

**问题：**计算一个字符串变为另一个字符串需要的最少编辑次数，可进行的编辑操作有：删除，插入，替换。

**解决思路：**

**表格：**

|      | A    | B    | C    | D    | E    |
| ---- | ---- | ---- | ---- | ---- | ---- |
| A    |      |      |      |      |      |
| C    |      |      |      |      |      |
| E    |      |      |      |      |      |
| D    |      |      |      |      |      |
| F    |      |      |      |      |      |

**单元格**(x, y)表示源字符串前x个字符与目标字符串前y个字符间的编辑距离

当我们从两个字符串最后一位字符（假设对应单元格(x, y)）开始比较，此时有两种情况：

1. 最后一位字符相同：相同时，针对该字符不需要做任何修改，因此此时(x, y) = (x-1, y-1)

2. 最后一位字符不同：字符不同时，可做三种修改

   1. 删除该字符

      删除该字符后，源字符串剩余字符有y-1个，而目标字符串剩余字符仍有x个，因此此时(x, y) = (x, y-1)+1

   2. 插入新字符

      插入新字符，源字符串新增字符与目标字符串最后第一位字符相同，因此目标剩余x-1个字符，源字符串剩余y个字符，因此此时(x, y) = (x-1, y)+1

   3. 替换该字符

      替换字符后，源字符剩余y-1个字符，目标字符串剩余x-1个字符，此时(x, y) = (x-1, y-1)+1

   因此字符不同时 (x, y) = max((x, y-1)，(x-1, y)，(x-1, y-1))+1

根据递推关系，我们很容易能够自底向上填好所有的单元格，从而计算编辑距离

**回溯表：**单元格记录进行的操作，或者回溯的方向